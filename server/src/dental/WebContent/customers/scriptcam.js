function SC_addChatText(a){$.scriptcam.SC_addChatText(a)}function SC_timeLeft(a){$.scriptcam.SC_timeLeft(a)}function SC_setVolume(a){$.scriptcam.SC_setVolume(a)}function SC_connected(){$.scriptcam.SC_connected()}function SC_onWebcamReady(a,b,c,d){$.scriptcam.SC_onWebcamReady(a,b,c,d)}function SC_promptWillShow(){$.scriptcam.SC_promptWillShow()}function SC_onError(a,b){$.scriptcam.SC_onError(a,b)}(function(a){function b(){}a.fn.scriptcam=function(b){var c=a.extend({},a.fn.scriptcam.defaults,b);return this.each(function(){c.id="#"+this.id;data=c;a(c.id).html(c.noFlashFound);var b=c.width;if(c.chatRoom!=""){b=b*2+5}a(c.id).flash({swf:"scriptcam.swf",width:b,height:c.height,hasVersion:"11.1",wmode:"transparent",allowscriptaccess:"always",flashvars:{appID:c.appID,fileName:c.fileName,shutterSound:c.shutterSound,loginName:c.loginName,chatWindow:c.chatWindow,chatRoom:c.chatRoom,videoWidth:c.width,videoHeight:c.height,showMicrophoneErrors:c.showMicrophoneErrors,entersChatText:c.entersChatText,chatWaitImage:c.chatWaitImage,cornerRadius:c.cornerRadius}})})};a.scriptcam={};a.scriptcam.getFrameAsBase64=function(){var b;a(data.id).flash(function(){b=this.SC_getFrameAsBase64()});return b};a.scriptcam.startRecording=function(){a(data.id).flash(function(){this.SC_startRecording()})};a.scriptcam.closeCamera=function(){a(data.id).flash(function(){this.SC_closeCamera()})};a.scriptcam.changeVolume=function(b){a(data.id).flash(function(){this.SC_changeVolume(b)})};a.scriptcam.sendMessage=function(b){a(data.id).flash(function(){this.SC_sendMessage(b)})};a.scriptcam.changeCamera=function(b){a(data.id).flash(function(){this.SC_changeCamera(b)})};a.scriptcam.changeMicrophone=function(b){a(data.id).flash(function(){this.SC_changeMicrophone(b)})};a.scriptcam.SC_onError=function(a,b){data.onError(a,b)};a.scriptcam.SC_promptWillShow=function(){data.promptWillShow()};a.scriptcam.SC_onWebcamReady=function(a,b,c,d){data.onWebcamReady(a,b,c,d)};a.scriptcam.SC_connected=function(){data.connected()};a.scriptcam.SC_setVolume=function(a){data.setVolume(a)};a.scriptcam.SC_timeLeft=function(a){data.timeLeft(a)};a.scriptcam.SC_addChatText=function(b){b=b.replace(":{",'<img src="angry.gif" width="16" height="16" class="smiley"/>');b=b.replace(":-{",'<img src="angry.gif" width="16" height="16" class="smiley"/>');b=b.replace(":)",'<img src="smile.gif" width="16" height="16" class="smiley"/>');b=b.replace(":-)",'<img src="smile.gif" width="16" height="16" class="smiley"/>');b=b.replace(":D",'<img src="biggrin.gif" width="16" height="16" class="smiley"/>');b=b.replace(":-D",'<img src="biggrin.gif" width="16" height="16" class="smiley"/>');b=b.replace(":O",'<img src="ohmy.gif" width="16" height="16" class="smiley"/>');b=b.replace(":-O",'<img src="ohmy.gif" width="16" height="16" class="smiley"/>');b=b.replace(":(",'<img src="sad.gif" width="16" height="16" class="smiley"/>');b=b.replace(":-(",'<img src="sad.gif" width="16" height="16" class="smiley"/>');b=b.replace(":p",'<img src="tongue.gif" width="16" height="16" class="smiley"/>');b=b.replace(":-p",'<img src="tongue.gif" width="16" height="16" class="smiley"/>');b=b.replace(";)",'<img src="wink.gif" width="16" height="16" class="smiley"/>');b=b.replace(";-)",'<img src="wink.gif" width="16" height="16" class="smiley"/>');a("#"+data.chatWindow).append(b+"<br/>");a("#"+data.chatWindow).animate({scrollTop:a("#"+data.chatWindow).prop("scrollHeight")-a("#"+data.chatWindow).height()},100)};a.fn.scriptcam.defaults={appID:"",width:320,height:240,chatWindow:"chatWindow",onError:null,promptWillShow:null,onWebcamReady:null,connected:null,setVolume:null,timeLeft:null,showMicrophoneErrors:true,fileName:"test",shutterSound:"",loginName:"user",chatRoom:"",entersChatText:"enters the chat.",chatWaitImage:"pleasewait.png",noFlashFound:'<p><a href="http://www.adobe.com/go/getflashplayer">Adobe Flash Player</a> 11.1.0 or greater is needed to use your webcam.</p>',cornerRadius:10}})(jQuery)